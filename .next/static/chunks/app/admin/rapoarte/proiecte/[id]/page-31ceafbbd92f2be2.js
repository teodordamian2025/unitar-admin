(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{3682:function(e,r,t){Promise.resolve().then(t.bind(t,5933))},5933:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var o=t(6705),i=t(955),n=t(4033),a=t(8259);function l(){let e=(0,n.useRouter)(),r=(0,n.useParams)(),t=null==r?void 0:r.id,[l,c]=(0,i.useState)(null),[s,d]=(0,i.useState)(!0),[u,p]=(0,i.useState)(!1),[x,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t?m():e.push("/admin/rapoarte/proiecte")},[t,e]);let m=async()=>{if(t)try{let r=await fetch("/api/rapoarte/proiecte/".concat(t));if(r.ok){let e=await r.json();c(e.proiect)}else alert("Proiectul nu a fost găsit"),e.back()}catch(e){console.error("Eroare la \xeencărcarea detaliilor:",e),alert("Eroare la \xeencărcarea detaliilor proiectului")}finally{d(!1)}},h=async()=>{if(l){f(!0);try{a.Am.info("Se generează factura PDF...");let e=await fetch("/api/actions/invoices/generate-hibrid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proiectId:l.ID_Proiect,liniiFactura:[{denumire:"Servicii proiect ".concat(l.Denumire),cantitate:1,pretUnitar:l.Valoare_Estimata||0,cotaTva:19}],observatii:"Factură generată pentru proiectul ".concat(l.ID_Proiect)})}),r=await e.json();if(r.success)a.Am.success("Factură PDF generată cu succes!"),r.downloadUrl&&window.open(r.downloadUrl,"_blank");else throw Error(r.error||"Eroare la generarea facturii")}catch(e){console.error("Eroare factură:",e),a.Am.error("Eroare la generarea facturii: ".concat(e instanceof Error?e.message:"Eroare necunoscută"))}finally{f(!1)}}},g=e=>e?"object"==typeof e&&e.value?new Date(e.value).toLocaleDateString("ro-RO"):new Date(e).toLocaleDateString("ro-RO"):"-";return s?(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,o.jsx)("div",{children:"Se \xeencarcă detaliile proiectului..."})}):t?l?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"2rem",padding:"1.5rem",background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>e.back(),style:{background:"transparent",border:"none",color:"#007bff",cursor:"pointer",fontSize:"14px",marginBottom:"1rem"},children:"← \xcenapoi la Proiecte"}),(0,o.jsx)("h1",{style:{margin:0,color:"#2c3e50",fontSize:"1.8rem"},children:l.Denumire}),(0,o.jsxs)("p",{style:{margin:"0.5rem 0",color:"#6c757d"},children:["ID: ",l.ID_Proiect]}),(e=>{let r={Activ:{color:"#28a745",icon:"\uD83D\uDFE2"},"\xcen lucru":{color:"#ffc107",icon:"\uD83D\uDFE1"},Suspendat:{color:"#fd7e14",icon:"\uD83D\uDFE0"},Finalizat:{color:"#6f42c1",icon:"✅"},Anulat:{color:"#dc3545",icon:"\uD83D\uDD34"}}[e]||{color:"#6c757d",icon:"⚪"};return(0,o.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"12px",fontSize:"14px",fontWeight:500,background:"".concat(r.color,"20"),color:r.color,border:"1px solid ".concat(r.color,"40")},children:[r.icon," ",e]})})(l.Status)]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,o.jsx)("button",{onClick:()=>p(!0),style:{padding:"0.75rem 1.5rem",background:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"✏️ Editează"}),(0,o.jsx)("button",{onClick:()=>alert("Generare contract \xeen dezvoltare"),style:{padding:"0.75rem 1.5rem",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"\uD83D\uDCC4 Contract"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,o.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#2c3e50"},children:"\uD83D\uDCCB Informații Generale"}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontWeight:500,color:"#495057",marginBottom:"0.25rem"},children:"Client"}),(0,o.jsx)("div",{style:{color:"#6c757d"},children:l.Client})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontWeight:500,color:"#495057",marginBottom:"0.25rem"},children:"Data \xcenceput"}),(0,o.jsx)("div",{style:{color:"#6c757d"},children:g(l.Data_Start)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontWeight:500,color:"#495057",marginBottom:"0.25rem"},children:"Data Finalizare"}),(0,o.jsx)("div",{style:{color:"#6c757d"},children:g(l.Data_Final)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontWeight:500,color:"#495057",marginBottom:"0.25rem"},children:"Valoare Estimată"}),(0,o.jsx)("div",{style:{color:"#6c757d",fontSize:"1.1rem",fontWeight:500},children:(e=>{if(!e)return"-";let r="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON"}).format(r)})(l.Valoare_Estimata)})]})]})]}),(0,o.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#2c3e50"},children:"\uD83D\uDE80 Acțiuni Rapide"}),(0,o.jsxs)("div",{style:{display:"grid",gap:"0.75rem"},children:[(0,o.jsx)("button",{onClick:()=>alert("Generare contract \xeen dezvoltare"),style:{padding:"0.75rem",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"\uD83D\uDCC4 Generează Contract"}),(0,o.jsx)("button",{onClick:h,disabled:x,style:{padding:"0.75rem",background:x?"#6c757d":"#ffc107",color:x?"white":"black",border:"none",borderRadius:"6px",cursor:x?"not-allowed":"pointer",fontSize:"14px",textAlign:"left"},children:x?"⏳ Se generează...":"\uD83D\uDCB0 Generează Factură PDF"}),(0,o.jsx)("button",{onClick:()=>alert("Trimitere email \xeen dezvoltare"),style:{padding:"0.75rem",background:"#17a2b8",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"\uD83D\uDCE7 Trimite Email Client"}),(0,o.jsx)("button",{onClick:()=>alert("Raport progres \xeen dezvoltare"),style:{padding:"0.75rem",background:"#6f42c1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",textAlign:"left"},children:"\uD83D\uDCCA Raport Progres"})]})]}),(0,o.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",gridColumn:"span 2"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 1rem 0",color:"#2c3e50"},children:"\uD83D\uDCC5 Timeline Proiect"}),(0,o.jsx)("div",{style:{color:"#6c757d",fontStyle:"italic"},children:"Timeline-ul proiectului va fi implementat \xeen următoarea fază..."})]})]})]}):(0,o.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,o.jsx)("h2",{children:"Proiectul nu a fost găsit"}),(0,o.jsx)("button",{onClick:()=>e.back(),style:{padding:"0.75rem 1.5rem",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"← \xcenapoi"})]}):(0,o.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,o.jsx)("h2",{children:"ID proiect lipsește"}),(0,o.jsx)("button",{onClick:()=>e.push("/admin/rapoarte/proiecte"),style:{padding:"0.75rem 1.5rem",background:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"← \xcenapoi la Proiecte"})]})}},9991:function(e,r,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=t(955),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(e,r,t){var o,n={},s=null,d=null;for(o in void 0!==t&&(s=""+t),void 0!==r.key&&(s=""+r.key),void 0!==r.ref&&(d=r.ref),r)a.call(r,o)&&!c.hasOwnProperty(o)&&(n[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===n[o]&&(n[o]=r[o]);return{$$typeof:i,type:e,key:s,ref:d,props:n,_owner:l.current}}r.Fragment=n,r.jsx=s,r.jsxs=s},6705:function(e,r,t){"use strict";e.exports=t(9991)},4033:function(e,r,t){e.exports=t(8165)}},function(e){e.O(0,[259,121,114,744],function(){return e(e.s=3682)}),_N_E=e.O()}]);