(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{3389:function(e,t,r){Promise.resolve().then(r.bind(r,2286))},2286:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var l=r(6705),n=r(955);function i(e){let{data:t,columns:r,loading:i=!1,onRowClick:a,actions:d,emptyMessage:o="Nu sunt date disponibile"}=e,[s,c]=(0,n.useState)(""),[p,u]=(0,n.useState)("asc"),x=e=>{s===e?u("asc"===p?"desc":"asc"):(c(e),u("asc"))},y=[...t].sort((e,t)=>{if(!s)return 0;let r=e[s],l=t[s];return r<l?"asc"===p?-1:1:r>l?"asc"===p?1:-1:0});return i?(0,l.jsx)("div",{style:{background:"white",borderRadius:"8px",padding:"2rem",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:(0,l.jsx)("div",{children:"Se \xeencarcă..."})}):(0,l.jsx)("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",overflow:"hidden"},children:(0,l.jsx)("div",{style:{overflowX:"auto"},children:(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{background:"#f8f9fa"},children:[r.map(e=>(0,l.jsx)("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:600,color:"#495057",cursor:e.sortable?"pointer":"default",width:e.width,userSelect:"none"},onClick:()=>e.sortable&&x(e.key),children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.label,e.sortable&&(0,l.jsx)("span",{style:{opacity:s===e.key?1:.3},children:s===e.key&&"desc"===p?"↓":"↑"})]})},e.key)),d&&(0,l.jsx)("th",{style:{padding:"1rem",textAlign:"center",borderBottom:"1px solid #dee2e6",fontWeight:600,color:"#495057",width:"120px"},children:"Acțiuni"})]})}),(0,l.jsx)("tbody",{children:0===y.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:r.length+(d?1:0),style:{padding:"2rem",textAlign:"center",color:"#6c757d"},children:o})}):y.map((e,t)=>(0,l.jsxs)("tr",{onClick:()=>null==a?void 0:a(e),style:{cursor:a?"pointer":"default"},onMouseEnter:e=>{a&&(e.currentTarget.style.background="#f8f9fa")},onMouseLeave:e=>{a&&(e.currentTarget.style.background="transparent")},children:[r.map(t=>(0,l.jsx)("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6",color:"#495057"},children:t.render?t.render(e[t.key],e):e[t.key]},t.key)),d&&(0,l.jsx)("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6",textAlign:"center"},children:d(e)})]},t))})]})})})}var a=r(5852);function d(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0),[o,s]=(0,n.useState)({});(0,n.useEffect)(()=>{c()},[o]);let c=async()=>{d(!0);try{let e=new URLSearchParams;Object.entries(o).forEach(t=>{let[r,l]=t;l&&e.append(r,l)});let r=await fetch("/api/rapoarte/clienti?".concat(e));if(r.ok){let e=await r.json();t(e.data||[])}}catch(e){console.error("Eroare la \xeencărcarea clienților:",e)}finally{d(!1)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{style:{margin:0,color:"#2c3e50"},children:"\uD83D\uDC65 Clienți"}),(0,l.jsx)("p",{style:{margin:"0.5rem 0 0 0",color:"#6c757d"},children:"Gestionează clienții firmei"})]}),(0,l.jsx)("button",{onClick:()=>alert("Adăugare client \xeen dezvoltare"),style:{padding:"0.75rem 1.5rem",background:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"+ Client Nou"})]}),(0,l.jsx)(a.Z,{filters:[{key:"search",label:"Căutare client",type:"text",placeholder:"Caută după nume, email, telefon..."},{key:"tip_client",label:"Tip client",type:"select",placeholder:"Toate tipurile",options:[{value:"Persoana fizica",label:"Persoană fizică"},{value:"Firma",label:"Firmă"}]},{key:"activ",label:"Status",type:"select",placeholder:"Toate statusurile",options:[{value:"true",label:"\uD83D\uDFE2 Activ"},{value:"false",label:"\uD83D\uDD34 Inactiv"}]}],values:o,onChange:s,onReset:()=>s({}),loading:r}),(0,l.jsx)(i,{data:e,columns:[{key:"nume",label:"Nume Client",sortable:!0,render:(e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontWeight:500},children:e}),(0,l.jsx)("div",{style:{fontSize:"12px",color:"#6c757d"},children:t.tip_client})]})},{key:"email",label:"Contact",render:(e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:"14px"},children:e}),(0,l.jsx)("div",{style:{fontSize:"12px",color:"#6c757d"},children:t.telefon})]})},{key:"adresa",label:"Adresa",render:e=>(0,l.jsx)("div",{style:{maxWidth:"200px"},children:(null==e?void 0:e.length)>50?"".concat(e.substring(0,50),"..."):e||"-"})},{key:"data_inregistrare",label:"Data \xcenregistrare",sortable:!0,render:e=>{if(!e)return"-";let t=new Date("object"==typeof e&&e.value?e.value:e);return t.toLocaleDateString("ro-RO")}},{key:"activ",label:"Status",render:e=>(0,l.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:e?"#d4edda":"#f8d7da",color:e?"#155724":"#721c24"},children:e?"\uD83D\uDFE2 Activ":"\uD83D\uDD34 Inactiv"})}],loading:r,emptyMessage:"Nu sunt clienți disponibili cu filtrele selectate."})]})}},5852:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var l=r(6705),n=r(955);function i(e){let{filters:t,values:r,onChange:i,onReset:a,loading:d=!1}=e,[o,s]=(0,n.useState)(!1),c=(e,t)=>{i({...r,[e]:t})},p=Object.values(r).some(e=>""!==e&&null!=e);return(0,l.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #dee2e6"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:o?"1.5rem":"0"},children:[(0,l.jsxs)("h3",{style:{margin:0,color:"#2c3e50",display:"flex",alignItems:"center",gap:"0.5rem"},children:["\uD83D\uDD0D Filtre și Căutare",p&&(0,l.jsx)("span",{style:{background:"#007bff",color:"white",borderRadius:"12px",padding:"2px 8px",fontSize:"12px",fontWeight:"normal"},children:Object.values(r).filter(e=>""!==e&&null!=e).length})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[p&&(0,l.jsx)("button",{onClick:a,disabled:d,style:{padding:"0.5rem 1rem",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:d?"not-allowed":"pointer",fontSize:"14px",opacity:d?.6:1},children:"\uD83D\uDD04 Reset"}),(0,l.jsx)("button",{onClick:()=>s(!o),style:{padding:"0.5rem 1rem",background:"transparent",color:"#007bff",border:"1px solid #007bff",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:o?"Ascunde ↑":"Extinde ↓"})]})]}),o&&(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",alignItems:"end"},children:t.map(e=>{var t;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#495057",fontSize:"14px",fontWeight:500},children:e.label}),"text"===e.type&&(0,l.jsx)("input",{type:"text",value:r[e.key]||"",onChange:t=>c(e.key,t.target.value),placeholder:e.placeholder,disabled:d,style:{width:"100%",padding:"0.75rem",border:"1px solid #ced4da",borderRadius:"6px",fontSize:"14px",opacity:d?.6:1}}),"select"===e.type&&(0,l.jsxs)("select",{value:r[e.key]||"",onChange:t=>c(e.key,t.target.value),disabled:d,style:{width:"100%",padding:"0.75rem",border:"1px solid #ced4da",borderRadius:"6px",fontSize:"14px",background:"white",opacity:d?.6:1},children:[(0,l.jsx)("option",{value:"",children:e.placeholder||"Selectează..."}),null===(t=e.options)||void 0===t?void 0:t.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]}),"date"===e.type&&(0,l.jsx)("input",{type:"date",value:r[e.key]||"",onChange:t=>c(e.key,t.target.value),disabled:d,style:{width:"100%",padding:"0.75rem",border:"1px solid #ced4da",borderRadius:"6px",fontSize:"14px",opacity:d?.6:1}}),"dateRange"===e.type&&(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,l.jsx)("input",{type:"date",value:r["".concat(e.key,"_start")]||"",onChange:t=>c("".concat(e.key,"_start"),t.target.value),disabled:d,style:{flex:1,padding:"0.75rem",border:"1px solid #ced4da",borderRadius:"6px",fontSize:"14px",opacity:d?.6:1}}),(0,l.jsx)("span",{style:{alignSelf:"center",color:"#6c757d"},children:"→"}),(0,l.jsx)("input",{type:"date",value:r["".concat(e.key,"_end")]||"",onChange:t=>c("".concat(e.key,"_end"),t.target.value),disabled:d,style:{flex:1,padding:"0.75rem",border:"1px solid #ced4da",borderRadius:"6px",fontSize:"14px",opacity:d?.6:1}})]})]},e.key)})})]})}},9991:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=r(955),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,d=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var l,i={},s=null,c=null;for(l in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,l)&&!o.hasOwnProperty(l)&&(i[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===i[l]&&(i[l]=t[l]);return{$$typeof:n,type:e,key:s,ref:c,props:i,_owner:d.current}}t.Fragment=i,t.jsx=s,t.jsxs=s},6705:function(e,t,r){"use strict";e.exports=r(9991)}},function(e){e.O(0,[121,114,744],function(){return e(e.s=3389)}),_N_E=e.O()}]);